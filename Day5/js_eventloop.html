<html>
  <head></head>
  <body>
    <script>
      function waitThreeSecond() {
        var waitTimer = 3000 + new Date().getTime()
        while(new Date() < waitTimer){

        }
        setTimeout(function(){
            console.log("MY CALLBACK FUNCTION EXECUTED AFTER 3 SECONDS")
          },0);
      }

      function clickHandler(){
        console.log("click event registered");
      }
      
      document.addEventListener('click', clickHandler);
       // call the long running function
      waitThreeSecond();
      console.log("execution completed!");


      // setTimeout(callback, 0);
      //
      // function callback() {
      //     console.log("3 sec timer completed")
      // }

    </script>
  </body>
</html>
